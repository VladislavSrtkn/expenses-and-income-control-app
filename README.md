# Redux Guide

1. Что мы создаем? Приложение по контролю финансов.

Мы выбираем год (по умолчанию текущий)
Мы выбираем месяц (по умолчанию текущий)

Два инпута: сумма и описание, две кнопки (добавить расход / добавить доход)
Далее - список операций, которые были занесены.

Внизу тотал результат выбранного месяца (положительный или отрицательный баланс)

Фильтры для просмотра операций: только траты/только доходы/все операции

Настройки - выбор валюты, темная тема (?)

2. Действия redux:

- слайс операций: добавить запись, удалить запись, редактировать запись
- слайс фильтров: тип операции: все/расходы/доходы , период: месяц (или лучше гибкие даты?)
- определить: валюта

3. Установка пакетов:

- `npx create-react-app`
- `npm install @reduxjs/toolkit` (redux + toolkit)
- `npm install react-redux `(связка redux-react для хуков и тп)

4. Создание слайсов:
   Создаем файлы слайсов (operationsSlice и filtersSlice), прописываем функции и экспортируем в store.

   Filters slice - создаем обычным образом (без адаптера).
   Operations Slice - создаем с адаптером. Адаптер сам задает исхрдный state как объект с массивом id и свойством entities, в которых по ключу id хранятся объекты операций (в данном случае).

   Используем стандартные функции адаптера для базовых операций: `operationAdded: operationsAdapter.addOne` и `operationDeleted: operationsAdapter.removeOne`.
   Когда мы вызываем `operationAdded`, мы должны в качестве аргумента передать ей новый объект со свойством id - адаптер сам добавит id в массив id и объект в entities.
   Когда мы вызываем `operationDeleted`, мы должны в качестве аргумента передать id удаляемого объекта (или массив ID) - адаптер так же сам удалит эти объекты из entities и ID из массива ID.

   Для функции с несколькими аргументами `operationChanged` используем конструкцию reducer/prepare:

   - в prepare в аргументах перечисляем передаваемые значения и возвращаем объект со свойством payload, которое содержит объект с этими значениями.
   - в reducer забираем эти значения из action.payload и используем их как нам нужно
   - при вызове функции передаем аргументы в том же порядке, что устанавливали в `prepare`

5. В store с помощью configureStore подключаем слайсы

6. В index.js исмпортиурем Provider, передаем ему store и оборачиваем в него наш App.
